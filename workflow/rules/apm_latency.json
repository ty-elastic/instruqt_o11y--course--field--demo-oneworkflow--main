{
  "name": "APM Latency Rule",
  "tags": ["automated_observability_triage"],
  "schedule": {
    "interval": "30s"
  },
  "params": {
    "aggregationType": "95th",
    "threshold": 10,
    "windowSize": 5,
    "windowUnit": "m",
    "environment": "ENVIRONMENT_ALL",
    "searchConfiguration": {
      "query": {
        "query": "not (service.name : \"flagd\" or transaction.name : \"/flagd.evaluation.v1.Service/EventStream\" or transaction.name : \"flagd.evaluation.v1.Service/EventStream\" or transaction.type :\"external.grpc\" )",
        "language": "kuery"
      }
    },
    "useKqlFilter": true
  },
  "artifacts": {
    "dashboards": [],
    "investigation_guide": {
      "blob": ""
    }
  },
  "actions": [
    {
      "id": "system-connector-.workflows",
      "params": {
        "subActionParams": {
          "workflowId": "workflow-c17742ce-3f82-465a-8c0a-2207c2998d23"
        },
        "subAction": "run"
      },
      "uuid": "8a18d05d-92da-49ae-97ec-17678a47f1c1"
    }
  ],
  "alert_delay": {
    "active": 1
  },
  "rule_type_id": "apm.transaction_duration",
  "consumer": "alerts"
}